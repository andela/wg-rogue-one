{% load i18n staticfiles %}

<link rel="stylesheet" type="text/css" href="{% static 'bower_components/datatables/media/css/dataTables.bootstrap.min.css' %}">
<script src="{% static 'bower_components/datatables/media/js/jquery.dataTables.min.js' %}" ></script>
<script src="{% static 'bower_components/datatables/media/js/dataTables.bootstrap.min.js' %}" ></script>
<script src="{% static 'js/weight.js' %}"></script>
<script>
$(document).ready( function () {
    /* Make table sortable */
    $('#main_member_list', '#main_inactive_member_list').DataTable({
        paging: false,
        bFilter: true,
        bInfo : false
    });


});
</script>
<ul class="nav nav-pills">
    <li role="presentation" class="active"><a href="#active-users" data-toggle="tab">Active Users</a></li>
    <li role="presentation"><a href="#inactive-users" data-toggle="tab">Inactive Users</a></li>
    <li style="margin-left: 19rem; margin-top: 1rem; color: #204A8E; font-weight: bold;">Select two users to compare them</li>
    <li><button class="btn btn-success" style="margin-left: 2rem;" 
        data-toggle="modal" disabled data-target=".bs-example-modal-lg" id="compareButton" >Compare</button>
    </li>
</ul>

<div class="tab-content">
    <!--Active user list-->
    <div id="active-users" class="tab-pane fade in active">
        <table class="table table-hover" id="main_member_list">
            <thead>
            <tr>
                <th style="width: 10%;" >Compare</th>
                {% for key in user_table.keys %}
                    <th>{{ key }}</th>
                {% endfor %}
            </tr>
            </thead>
            <tbody>
            {% for current_user in user_table.users %}
            {% if current_user.obj.is_active %}
            <tr>
                <td><input type="checkbox" value="{{current_user.obj}}" data-gym="{{current_user.obj.userprofile.gym_id}}"></td>
                <td>
                    {{current_user.obj.pk}}
                </td>
                <td>
                    <a href="{% url 'core:user:overview' current_user.obj.pk %}">{{current_user.obj}}</a>
                </td>
                <td>
                    {{current_user.obj.get_full_name}}
                </td>
                <td data-order="{{current_user.last_log|date:'U'}}">
                    {{current_user.last_log|default:'-/-'}}
                </td>
                <!-- {% if show_gym %} -->
                <td>
                    {% if current_user.obj.userprofile.gym_id %}
                        <a href="{{ current_user.obj.userprofile.gym.get_absolute_url }}">
                        {{ current_user.obj.userprofile.gym }}
                        </a>
                    <!-- {% else %}
                        -/- -->
                    {% endif %}
                </td>
                <!-- {% endif %} -->
            </tr>
            {% endif %}
            {% endfor %}
            </tbody>
        </table>
    </div>
    <!--Inactive User List-->
    <div id="inactive-users" class="tab-pane fade">
            <table class="table table-hover" id="#main_inactive_member_list">
                    <thead>
                    <tr>
                        {% for key in user_table.keys %}
                            <th>{{ key }}</th>
                        {% endfor %}
                    </tr>
                    </thead>
                    <tbody>
                    {% for current_user in user_table.users %}
                    {% if not current_user.obj.is_active %}
                    <tr>
                        <td><input type="checkbox"></td>
                        <td>
                            {{current_user.obj.pk}}
                        </td>
                        <td>
                            <a href="{% url 'core:user:overview' current_user.obj.pk %}">{{current_user.obj}}</a>
                        </td>
                        <td>
                            {{current_user.obj.get_full_name}}
                        </td>
                        <td data-order="{{current_user.last_log|date:'U'}}">
                            {{current_user.last_log|default:'-/-'}}
                        </td>
                        {% if show_gym %}
                        <td>
                            {% if current_user.obj.userprofile.gym_id %}
                                <a href="{{ current_user.obj.userprofile.gym.get_absolute_url }}">
                                {{ current_user.obj.userprofile.gym }}
                                </a>
                            {% else %}
                                -/-
                            {% endif %}
                        </td>
                        {% endif %}
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
    </div>
</div>
<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
          <div style="margin-left: 2rem"><h2 >Comapared Users</h2></div> 
        <div id="weight_diagram" style="padding: 2rem; margin: auto;"></div>
      </div>
    </div>
  </div>
